
CONFIG_GRUB_TIMEOUT="0"
CONFIG_GRUB_CONSOLE=n
CONFIG_TARGET_ROOTFS_EXT4FS=y

CONFIG_TARGET_ROOTFS_CPIOGZ=n
CONFIG_TARGET_ROOTFS_SQUASHFS=y
CONFIG_LUCI_CSSTIDY=n
CONFIG_SIGNED_PACKAGES=n
CONFIG_SIGNATURE_CHECK=n

CONFIG_TARGET_MULTI_PROFILE=y
CONFIG_TARGET_ALL_PROFILES=y

# 设置固件大小:
CONFIG_TARGET_ROOTFS_PARTSIZE=1024

CONFIG_ALL_NONSHARED=y

CONFIG_USE_APK=n

CONFIG_BUILD_PATENTED=y

CONFIG_IB=y
CONFIG_IB_STANDALONE=y
CONFIG_JSON_OVERVIEW_IMAGE_INFO=y

CONFIG_FEED_telephony=n

CONFIG_KERNEL_WERROR=n

# IPv6支持:
CONFIG_IPV6=y

# Applications


# Themes

CONFIG_PACKAGE_luci-theme-bootstrap=y

CONFIG_PACKAGE_procd-seccomp=n
CONFIG_KERNEL_SECCOMP_FILTER=n
CONFIG_KERNEL_SECCOMP=n

# 其他需要安装的软件包:

CONFIG_PACKAGE_dnsmasq=n
CONFIG_PACKAGE_dnsmasq-full=y
CONFIG_PACKAGE_dnsmasq_full_dhcp=y
CONFIG_PACKAGE_dnsmasq_full_dhcpv6=y
CONFIG_PACKAGE_dnsmasq_full_ipset=y

CONFIG_PACKAGE_firewall=m
CONFIG_PACKAGE_miniupnpd-iptables=m

CONFIG_NGINX_DAV=y
CONFIG_PACKAGE_luci-base=y
CONFIG_PACKAGE_luci-compat=y
CONFIG_PACKAGE_luci-lib-ipkg=y
CONFIG_LUCI_LANG_zh_Hans=y
CONFIG_LUCI_LANG_en=y
CONFIG_PACKAGE_coremark=y
CONFIG_DEVEL=y
CONFIG_CCACHE=y
CONFIG_TOOLCHAINOPTS=y
CONFIG_COREMARK_OPTIMIZE_O3=y
CONFIG_COREMARK_ENABLE_MULTITHREADING=y
CONFIG_COREMARK_NUMBER_OF_THREADS=16
CONFIG_PACKAGE_zoneinfo-asia=y
CONFIG_PACKAGE_my-default-settings=y
CONFIG_PACKAGE_wget-ssl=y
CONFIG_PACKAGE_curl=y
CONFIG_PACKAGE_htop=y
CONFIG_PACKAGE_nano=y
CONFIG_XRAY_PROVIDE_V2RAY=y
CONFIG_V2RAY_CORE_COMPRESS_UPX=n
CONFIG_XRAY_CORE_COMPRESS_UPX=n
CONFIG_PACKAGE_zram-swap=y
CONFIG_PACKAGE_kmod-lib-lz4=y
CONFIG_PACKAGE_kmod-lib-zstd=y
CONFIG_NODEJS_14=y

CONFIG_BUSYBOX_CUSTOM=y
CONFIG_BUSYBOX_CONFIG_FEATURE_XARGS_SUPPORT_REPL_STR=y
CONFIG_BUSYBOX_CONFIG_FEATURE_CROND_SPECIAL_TIMES=y
CONFIG_BUSYBOX_CONFIG_FEATURE_SYSLOG_INFO=y

CONFIG_PACKAGE_luci-ssl=n # uhttpd服务
CONFIG_PACKAGE_luci-ssl-nginx=n # nginx
CONFIG_PACKAGE_luci-nginx=y

CONFIG_PACKAGE_bash=y
CONFIG_PACKAGE_ca-bundle=y

CONFIG_PACKAGE_wifi-scripts=m

CONFIG_PACKAGE_kmod-pcie_mhi=n

CONFIG_PACKAGE_kmod-rtl8189es=n


#CONFIG_PACKAGE_netdata=m

CONFIG_IMAGEOPT=y
CONFIG_VERSIONOPT=y

CONFIG_VERSION_MANUFACTURER="miaogongzi"
CONFIG_VERSION_FILENAMES=n
CONFIG_VERSION_CODE_FILENAMES=n


CONFIG_KERNEL_XDP_SOCKETS=y

CONFIG_ZLIB_OPTIMIZE_SPEED=y
CONFIG_ZSTD_OPTIMIZE_O3=y

CONFIG_BUILD_PATENTED=y


# start dockerd
CONFIG_KERNEL_CGROUP_DEVICE=y
CONFIG_KERNEL_CGROUP_FREEZER=y
CONFIG_KERNEL_NET_CLS_CGROUP=y
CONFIG_KERNEL_CGROUP_NET_PRIO=y
CONFIG_KERNEL_MEMCG_SWAP_ENABLED=y
CONFIG_KERNEL_CFQ_GROUP_IOSCHED=y
CONFIG_KERNEL_CGROUP_PERF=y
CONFIG_KERNEL_CGROUP_HUGETLB=y
CONFIG_KERNEL_EXT4_FS_POSIX_ACL=y
CONFIG_KERNEL_EXT4_FS_SECURITY=y
CONFIG_KERNEL_BTRFS_FS_POSIX_ACL=y
# end dockerd

#6.12内核测试模块

CONFIG_PACKAGE_kmod-ovpn-dco-v2=n
CONFIG_PACKAGE_kmod-usb-serial-xr_usb_serial_common=n
CONFIG_PACKAGE_kmod-openvswitch=n
CONFIG_PACKAGE_kmod-nft-core=m
CONFIG_VERSION_REPO="https://op.miaogongzi.cc/24.10"

#CONFIG_PACKAGE_nftables-json=m
CONFIG_PACKAGE_nftables-json=m
CONFIG_PACKAGE_miniupnpd-nftables=m
CONFIG_PACKAGE_miniupnpd-iptables=y
# nftables 本体
CONFIG_PACKAGE_nftables=m
CONFIG_PACKAGE_nftables-json=n
CONFIG_PACKAGE_nftables-nojson=m

# nftables 依赖和工具链（可选，如果只用 iptables）
CONFIG_PACKAGE_libnftnl=m
CONFIG_PACKAGE_libnftnl-json=m
CONFIG_PACKAGE_libxtables-nft=m

# 用于 nftables 的 JSON 库
CONFIG_PACKAGE_libjansson=m

# 支持 nftables，作为模块（m）
CONFIG_PACKAGE_nftables=m
CONFIG_PACKAGE_libnftnl=m
CONFIG_PACKAGE_libnftables=m
CONFIG_PACKAGE_firewall4=m

CONFIG_PACKAGE_kmod-nft-core=m
CONFIG_PACKAGE_kmod-nft-nat=m
CONFIG_PACKAGE_kmod-nft-offload=m
CONFIG_PACKAGE_kmod-nft-bridge=m
CONFIG_PACKAGE_kmod-nft-netdev=m
CONFIG_PACKAGE_kmod-nft-arp=m
CONFIG_PACKAGE_kmod-nft-queue=m
CONFIG_PACKAGE_kmod-nft-log=m
CONFIG_PACKAGE_kmod-nft-reject=m
CONFIG_PACKAGE_kmod-nft-fib=m
CONFIG_PACKAGE_kmod-nft-socket=m

# 可选增强支持（根据需要选）
CONFIG_PACKAGE_kmod-nft-chain-nat=m
CONFIG_PACKAGE_kmod-nft-compat=m
CONFIG_PACKAGE_kmod-nft-tproxy=m
